<h1>New Article</h1>


<%= form_for @article, url: articles_path, html: { class: "new-article-form" } do |form| %>
  <p>
    <%= form.label :title %><br>
    <%= form.text_field :title %>
  </p>
 
  <p>
    <%= form.label :text %><br>
    <%= form.text_area :text %>
  </p>
 
  <p>
  <%= form.submit 'Remote', class: "remote-button"  %>
  </p>
  <p>

  <%= form.submit 'Not remote'  %>
  </p>
<% end %>

 <script>
function handleRemoteFormRequest() {
  const button = document.getElementsByClassName("remote-button")[0]
  button.addEventListener("click", (event) => {
    event.preventDefault()
    const form = document.getElementsByClassName("new-article-form")[0]
    form.dataset.remote = "true"
    console.log('yoyoyoyoo')
    Rails.fire(form, "submit")
  })
}

handleRemoteFormRequest()
 </script>
